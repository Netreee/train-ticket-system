# ==================== 基础功能测试 ====================

# 1. 用户管理测试
register admin admin123
# 预期输出：[成功] 用户注册成功

login admin admin123
# 预期输出：[成功] 欢迎回来，admin！

logout
# 预期输出：[成功] 再见，admin！

# 2. 列车管理测试
login admin admin123

add_train 2024-03-20 G102 北京 上海 08:00 13:30 商务座 100 一等座 200 二等座 300
# 预期输出：[成功] 列车添加成功

query_train 2024-03-20 G102
# 预期输出：
# 列车号：G102
# 日期：2024-03-20
# 北京 -> 上海
# 发车时间：08:00
# 到达时间：13:30
# 商务座：100张
# 一等座：200张
# 二等座：300张

# 3. 车票查询测试
query_ticket 北京 上海 2024-03-20
# 预期输出：
# 找到1个车次：
# G102 北京->上海 08:00-13:30
# 商务座：100张 一等座：200张 二等座：300张

# 4. 购票测试
buy_ticket admin G102 2024-03-20 北京 上海 商务座 1
# 预期输出：[成功] 购票成功，订单号：xxx

query_order admin
# 预期输出：
# 订单号：xxx
# 车次：G102
# 日期：2024-03-20
# 北京->上海
# 商务座：1张
# 状态：已支付

# 5. 退票测试
refund_ticket admin G102 2024-03-20 北京 上海 商务座 1
# 预期输出：[成功] 退票成功

query_order admin
# 预期输出：
# 订单号：xxx
# 车次：G102
# 日期：2024-03-20
# 北京->上海
# 商务座：1张
# 状态：已退票

# ==================== 异常情况测试 ====================

# 1. 用户管理异常测试
register admin admin123
# 预期输出：[错误] 用户已存在

login admin wrongpass
# 预期输出：[错误] 密码错误

# 2. 列车管理异常测试
add_train 2024-03-20 G102 北京 上海 08:00 13:30 商务座 100
# 预期输出：[错误] 列车已存在

query_train 2024-03-20 G103
# 预期输出：[错误] 列车不存在

# 3. 购票异常测试
buy_ticket admin G102 2024-03-20 北京 上海 商务座 101
# 预期输出：[错误] 座位不足

refund_ticket admin G102 2024-03-20 北京 上海 商务座 2
# 预期输出：[错误] 退票数量超过购买数量

# ==================== 多列车场景测试 ====================

add_train 2024-03-20 G103 北京 上海 09:00 14:30 商务座 50 一等座 100 二等座 150
# 预期输出：[成功] 列车添加成功

add_train 2024-03-20 G104 北京 上海 10:00 15:30 商务座 30 一等座 60 二等座 90
# 预期输出：[成功] 列车添加成功

query_ticket 北京 上海 2024-03-20
# 预期输出：
# 找到3个车次：
# G102 北京->上海 08:00-13:30
# G103 北京->上海 09:00-14:30
# G104 北京->上海 10:00-15:30

# ==================== 多用户场景测试 ====================

register user1 user123
# 预期输出：[成功] 用户注册成功

register user2 user123
# 预期输出：[成功] 用户注册成功

login user1 user123
# 预期输出：[成功] 欢迎回来，user1！

buy_ticket user1 G102 2024-03-20 北京 上海 商务座 1
# 预期输出：[成功] 购票成功，订单号：xxx

login user2 user123
# 预期输出：[成功] 欢迎回来，user2！

buy_ticket user2 G103 2024-03-20 北京 上海 商务座 1
# 预期输出：[成功] 购票成功，订单号：xxx

query_order user1
# 预期输出：显示user1的订单信息

query_order user2
# 预期输出：显示user2的订单信息

# ==================== 日期查询测试 ====================

query_ticket 北京 上海 2024-03-21
# 预期输出：[错误] 日期超出范围

query_ticket 北京 上海 2024-03-19
# 预期输出：[错误] 日期超出范围

# ==================== 座位类型测试 ====================

add_train 2024-03-20 G105 北京 上海 11:00 16:30 商务座 20 一等座 40 二等座 60 硬座 100
# 预期输出：[成功] 列车添加成功

query_train 2024-03-20 G105
# 预期输出：显示G105的详细信息，包括硬座信息

buy_ticket user1 G105 2024-03-20 北京 上海 硬座 2
# 预期输出：[成功] 购票成功，订单号：xxx

query_order user1
# 预期输出：显示包含硬座订单的信息

# ==================== 退票重购测试 ====================

refund_ticket user1 G105 2024-03-20 北京 上海 硬座 1
# 预期输出：[成功] 退票成功

buy_ticket user2 G105 2024-03-20 北京 上海 硬座 1
# 预期输出：[成功] 购票成功，订单号：xxx

query_order user1
# 预期输出：显示退票后的订单状态

query_order user2
# 预期输出：显示新购票的订单信息

# ==================== 数据持久性测试 ====================

logout
# 预期输出：[成功] 再见，user2！

login admin admin123
# 预期输出：[成功] 欢迎回来，admin！

query_order admin
# 预期输出：显示所有历史订单

query_train 2024-03-20 G102
# 预期输出：显示G102的完整信息

# ==================== 测试完成 ====================
logout
# 预期输出：[成功] 再见，admin！ 